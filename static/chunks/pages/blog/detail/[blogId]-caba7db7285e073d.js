(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{2705:function(n,e,t){var r=t(5639).Symbol;n.exports=r},4239:function(n,e,t){var r=t(2705),i=t(9607),o=t(2333),u=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":u&&u in Object(n)?i(n):o(n)}},7561:function(n,e,t){var r=t(7990),i=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(i,""):n}},1957:function(n,e,t){var r="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;n.exports=r},9607:function(n,e,t){var r=t(2705),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,c=r?r.toStringTag:void 0;n.exports=function(n){var e=o.call(n,c),t=n[c];try{n[c]=void 0;var r=!0}catch(a){}var i=u.call(n);return r&&(e?n[c]=t:delete n[c]),i}},2333:function(n){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},5639:function(n,e,t){var r=t(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},7990:function(n){var e=/\s/;n.exports=function(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}},3279:function(n,e,t){var r=t(3218),i=t(7771),o=t(4841),u=Math.max,c=Math.min;n.exports=function(n,e,t){var a,l,f,s,d,v,p=0,m=!1,g=!1,h=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function x(e){var t=a,r=l;return a=l=void 0,p=e,s=n.apply(r,t)}function b(n){return p=n,d=setTimeout(w,e),m?x(n):s}function y(n){var t=n-v;return void 0===v||t>=e||t<0||g&&n-p>=f}function w(){var n=i();if(y(n))return N(n);d=setTimeout(w,function(n){var t=e-(n-v);return g?c(t,f-(n-p)):t}(n))}function N(n){return d=void 0,h&&a?x(n):(a=l=void 0,s)}function j(){var n=i(),t=y(n);if(a=arguments,l=this,v=n,t){if(void 0===d)return b(v);if(g)return clearTimeout(d),d=setTimeout(w,e),x(v)}return void 0===d&&(d=setTimeout(w,e)),s}return e=o(e)||0,r(t)&&(m=!!t.leading,f=(g="maxWait"in t)?u(o(t.maxWait)||0,e):f,h="trailing"in t?!!t.trailing:h),j.cancel=function(){void 0!==d&&clearTimeout(d),p=0,a=v=l=d=void 0},j.flush=function(){return void 0===d?s:N(i())},j}},3218:function(n){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},7005:function(n){n.exports=function(n){return null!=n&&"object"==typeof n}},3448:function(n,e,t){var r=t(4239),i=t(7005);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},7771:function(n,e,t){var r=t(5639);n.exports=function(){return r.Date.now()}},4841:function(n,e,t){var r=t(7561),i=t(3218),o=t(3448),u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(o(n))return NaN;if(i(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=i(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var t=c.test(n);return t||a.test(n)?l(n.slice(2),t?2:8):u.test(n)?NaN:+n}},3858:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(7264),i=t(7294);function o(n,e){var t=(0,i.useContext)(r.VY),o=t.logoClickCallback.current;return(0,i.useEffect)((function(){return o.push(n),function(){o.splice(o.findIndex((function(e){return e===n})),1)}}),e),{logoRef:t.logoRef}}},3098:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return b},default:function(){return y}});var r=t(1451),i=t(9008),o=t(7294),u=t(7264),c=(t(7332),t(2382),t(8031)),a=t(1742),l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,o.useEffect)((function(){var n=window;n.runXlScript=function(n){try{var e,t,r,i=null===(e=n.target)||void 0===e?void 0:e.getElementsByTagName("textarea")[0].value,o=null===(t=n.target)||void 0===t||null===(r=t.parentNode)||void 0===r?void 0:r.getElementsByClassName("xl-runnable-output")[0];(0,c.O)(i).then((function(n){if(n.success){var e="";n.data.map((function(n){e+=n+"\n"})),e=e.replace(/\\/g,"\\").replace(/\</g,"&lt").replace(/\>/g,"&gt"),o.innerHTML="<pre><code>".concat(e,"</code></pre>")}else o.innerHTML=JSON.stringify(n.msg)})).catch((function(n){o.innerHTML=n.toString()})),o.style.display="block"}catch(n){console.log(n)}},n.clearXlScriptOutput=function(n){var e,t,r=null===(e=n.target)||void 0===e||null===(t=e.parentNode)||void 0===t?void 0:t.getElementsByClassName("xl-runnable-output")[0];r.innerHTML="",r.style.display="none"},n.xlCopyCode=function(n){var e,t=null===(e=n.target)||void 0===e?void 0:e.getElementsByTagName("textarea")[0].value;(0,a.$i)(t)}}),(0,r.Z)(n))},f=t(1163),s=t(2252),d=t(6397),v=t(1578),p=t(3858),m=t(3279),g=t.n(m),h=t(5893);function x(n){var e=n.blog;l();(0,f.useRouter)();var t=(0,o.useRef)(null),u=(0,o.useState)([]),c=u[0],a=u[1],m=(0,o.useRef)([]),x=(0,o.useState)(""),b=x[0],y=x[1],w=(0,o.useRef)(!0),N=(0,o.useState)(0),j=N[0],k=N[1],S=(0,o.useState)(!0),E=S[0],T=S[1],_=(0,o.useRef)(null),O=(0,o.useRef)(100),I=(0,o.useMemo)((function(){return(0,h.jsx)("ul",{className:"xl-blog-detail-category",ref:_,style:{transform:"translateY(".concat(j,"px)"),display:E?"block":"none"},children:function n(e){return e.map((function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsxs)("li",{className:(0,s.k)(["xl-blog-detail-category-item",e.id===b&&"active"]),onClick:function(){return M(e.id)},children:[e.text,(0,h.jsx)("div",{className:"item-bar"})]},"category-item-".concat(e.id)),e.children&&(0,h.jsx)("ul",{className:"xl-blog-detail-sub-category",children:n(e.children)},"category-sub-item-".concat(e.id))]},"category-item-container-".concat(e.id))}))}(c)})}),[c,b,j,E]),M=function(n){var e=document.getElementById(n);e&&((0,s.X5)(document.documentElement,e,-1*O.current),y(n),w.current=!1)};(0,o.useEffect)((function(){var n,e=function(n,e){var i=[];return Array.from(t.current.children).forEach((function(n,e){var t,r;["h1","h2","h3","h4","h5","h6"].includes(null===(t=n.tagName)||void 0===t?void 0:t.toLowerCase())&&(n.id||(n.id="xl-blog-category-title-".concat(e)),i.push({id:n.id,level:parseFloat(n.tagName.slice(1)),text:(null===(r=n.innerHTML)||void 0===r?void 0:r.replace(/<[^>]*>/g,""))||""}))})),m.current=i,function n(e){var t=[];return e.some((function(i,o){var u=t[t.length-1];if(t.length>0&&u.level<i.level){var c=e.slice(o),a=c.findIndex((function(n){return n.level<=u.level}))+o;if(a<o&&(a=c.length+o),a-o>=1)return u.children=n(e.slice(o,a)),t.push.apply(t,(0,r.Z)(n(e.slice(a)))),!0;u.children=[i]}else t.push(i)})),t}(i)}(t.current);a(e),y(null===(n=e[0])||void 0===n?void 0:n.id);var i=window.innerWidth<900;i&&T(!1);var o=(0,d.NH)(document,"scroll",g()((function(n){var e=(0,s.cx)();k(Math.max(e-80,0)),m.current.some((function(n,e){var t,r,i=null===(t=document.getElementById(n.id))||void 0===t||null===(r=t.getBoundingClientRect())||void 0===r?void 0:r.top;if(i>=O.current){if(!w.current)return w.current=!0,!0;var o;if(i<=window.innerHeight/2)y(n.id);else y((null===(o=m.current[e-1])||void 0===o?void 0:o.id)||n.id);return!0}}))}),300)),u=v.ZP.addSource(_.current,(function(n,e){var t;!i||null!==(t=C.current)&&void 0!==t&&t.contains(n.target)||T(!1)}));return function(){(0,d.yM)(o),v.ZP.deleteSource(u)}}),[]);var C=(0,p.Z)((function(){T(!E)}),[E]).logoRef;return(0,h.jsxs)("div",{className:"xl-blog-detail",children:[(0,h.jsxs)(i.default,{children:[(0,h.jsx)("title",{children:"\u535a\u5ba2\u8be6\u60c5"}),(0,h.jsx)("meta",{name:"description",content:"\u535a\u5ba2\u8be6\u7ec6\u5185\u5bb9"}),(0,h.jsx)("link",{rel:"icon",href:"/my_favicon.ico"})]}),(0,h.jsx)("h1",{className:"xl-blog-detail-title",children:e.title}),(0,h.jsxs)("div",{className:"xl-blog-detail-main",children:[I,(0,h.jsx)("div",{ref:t,className:"xl-blog-detail-content",dangerouslySetInnerHTML:{__html:e.htmlText}})]})]})}x.layout=u.uy;var b=!0,y=x},8031:function(n,e,t){"use strict";t.d(e,{O:function(){return c}});var r=t(5861),i=t(7757),o=t.n(i),u=t(4716);function c(n){return a.apply(this,arguments)}function a(){return(a=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.v_)("/runScript",{script:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},6397:function(n,e,t){"use strict";t.d(e,{NH:function(){return u},yM:function(){return c}});var r=t(7549),i=t(2252),o=new Map;function u(n,e,t){if(!n||!e||!(0,r.mf)(t))return null;var i=o.get(n);if(i){var u=i.get(e);if(u){if(u.callbacks.includes(t))return l(),{dom:n,event:e,callbackIndex:u.callbacks.indexOf(t)};var c=u.callbacks.push(t);return l(),{dom:n,event:e,callbackIndex:c-1}}return i.set(e,{callbacks:[t]}),l(),{dom:n,event:e,callbackIndex:0}}var a=new Map;return a.set(e,{callbacks:[t]}),o.set(n,a),l(),{dom:n,event:e,callbackIndex:0}}function c(n){return null!==n&&void 0!==n&&n.dom?a(n.dom,n.event,n.callbackIndex):null}function a(n,e,t){if(!n)return null;var u=o.get(n);if(!u)return null;if(!e)return u.forEach((function(e,t){(0,i.S1)(n,t,e.wrapperFun),delete e.wrapperFun,u.delete(t)})),o.delete(n),{dom:n};var c=u.get(e);if(!c)return null;if(null===t||void 0===t)return(0,i.S1)(n,e,c.wrapperFun),delete c.wrapperFun,u.delete(e),u.size<1&&a(n),{dom:n,event:e};var l=(0,r.hj)(t)?t:c.callbacks.findIndex((function(n){return n===t}));if(l<0)return null;var f=c.callbacks.splice(l,1);return c.callbacks.length<1?a(n,e):f.length>0?{dom:n,event:e,callbackIndex:l}:null}function l(){o.forEach((function(n,e){n.forEach((function(n,t){n.wrapperFun||(n.wrapperFun=function(r){var i=this;n.callbacks.forEach((function(n){n.call(i,r,e,t)}))},(0,i.on)(e,t,n.wrapperFun))}))}))}e.ZP={addListener:u,removeListener:a,removeListenerRS:c,start:l,removeAll:function(){o.forEach((function(n,e){n.forEach((function(t,r){(0,i.S1)(e,r,t.wrapperFun),delete t.wrapperFun,n.delete(r)})),o.delete(e)}))}}},4343:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/detail/[blogId]",function(){return t(3098)}])},2382:function(){},7332:function(){},1451:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(907);var i=t(181);function o(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(n){n.O(0,[662,878,116,774,888,179],(function(){return e=4343,n(n.s=e);var e}));var e=n.O();_N_E=e}]);