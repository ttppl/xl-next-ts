(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{3858:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(7264),l=t(7294);function i(e,n){var t=(0,l.useContext)(r.VY),i=t.logoClickCallback.current;return(0,l.useEffect)((function(){return i.push(e),function(){i.splice(i.findIndex((function(n){return n===e})),1)}}),n),{logoRef:t.logoRef}}},3098:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return b},default:function(){return x}});var r=t(1451),l=t(9008),i=t(7294),u=t(7264),a=(t(7332),t(2382),t(8031)),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,i.useEffect)((function(){var e=window;e.runXlScript=function(e){try{var n,t,r,l=null===(n=e.target)||void 0===n?void 0:n.getElementsByTagName("textarea")[0].value,i=null===(t=e.target)||void 0===t||null===(r=t.parentNode)||void 0===r?void 0:r.getElementsByClassName("xl-runnable-output")[0];(0,a.O)(l).then((function(e){if(e.success){var n="";e.data.map((function(e){n+=e+"\n"})),n=n.replace(/\\/g,"\\").replace(/\</g,"&lt").replace(/\>/g,"&gt"),i.innerHTML="<pre><code>".concat(n,"</code></pre>")}else i.innerHTML=JSON.stringify(e.msg)})).catch((function(e){i.innerHTML=e.toString()})),i.style.display="block"}catch(e){console.log(e)}},e.clearXlScriptOutput=function(e){var n,t,r=null===(n=e.target)||void 0===n||null===(t=n.parentNode)||void 0===t?void 0:t.getElementsByClassName("xl-runnable-output")[0];r.innerHTML="",r.style.display="none"}}),(0,r.Z)(e))},o=t(1163),s=t(2252),d=t(6397),f=t(6486),v=t.n(f),p=t(1578),m=t(3858),h=t(5893);function g(e){var n=e.blog;c();(0,o.useRouter)();var t=(0,i.useRef)(null),u=(0,i.useState)([]),a=u[0],f=u[1],g=(0,i.useState)(""),b=g[0],x=g[1],y=(0,i.useState)(0),k=y[0],w=y[1],N=(0,i.useRef)(!1),E=(0,i.useState)(!0),S=E[0],_=E[1],I=(0,i.useRef)(null),j=(0,i.useMemo)((function(){return(0,h.jsx)("ul",{className:"xl-blog-detail-category",ref:I,style:{transform:"translateY(".concat(k,"px)"),display:S?"block":"none"},children:function e(n){return n.map((function(n,t){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("li",{className:(0,s.k)(["xl-blog-detail-category-item",n.id===b&&"active"]),onClick:function(){return M(n.id)},children:[n.text,(0,h.jsx)("div",{className:"item-bar"})]},"categoryItem-".concat(t)),n.children&&(0,h.jsx)("ul",{className:"xl-blog-detail-sub-category",children:e(n.children)})]})}))}(a)})}),[a,k,S]),M=function(e){var n=document.getElementById(e);n&&((0,s.X5)(document.documentElement,n,-100),x(e),N.current=!0)};(0,i.useEffect)((function(){var e,n=function(e,n){var l=[];return Array.from(t.current.children).forEach((function(e,n){var t,r;["h1","h2","h3","h4","h5","h6"].includes(null===(t=e.tagName)||void 0===t?void 0:t.toLowerCase())&&(e.id||(e.id="title-".concat(n)),l.push({id:e.id,level:parseFloat(e.tagName.slice(1)),text:(null===(r=e.innerHTML)||void 0===r?void 0:r.replace(/<[^>]*>/g,""))||""}))})),function e(n){var t=[];return n.some((function(l,i){var u=t[t.length-1];if(t.length>0&&u.level<l.level){var a=n.slice(i),c=a.findIndex((function(e){return e.level<=u.level}))+i;if(c<i&&(c=a.length+i),c-i>=1)return u.children=e(n.slice(i,c)),t.push.apply(t,(0,r.Z)(e(n.slice(c)))),!0;u.children=[l]}else t.push(l)})),t}(l)}(t.current);f(n),x(null===(e=n[0])||void 0===e?void 0:e.id);var l=window.innerWidth<900;l&&_(!1);var i=(0,d.NH)(document,"scroll",v().debounce((function(e){var t=(0,s.cx)();w(Math.max(t-80,0)),n.some((function(e,t){var r,l;if((null===(r=document.getElementById(e.id))||void 0===r||null===(l=r.getBoundingClientRect())||void 0===l?void 0:l.top)>21){var i;if(N.current)N.current=!1;else x((null===(i=n[t-1])||void 0===i?void 0:i.id)||e.id);return!0}}))}),300)),u=p.ZP.addSource(I.current,(function(e,n){var t;!l||null!==(t=F.current)&&void 0!==t&&t.contains(e.target)||_(!1)}));return function(){(0,d.yM)(i),p.ZP.deleteSource(u)}}),[]);var F=(0,m.Z)((function(){_(!S)}),[S]).logoRef;return(0,h.jsxs)("div",{className:"xl-blog-detail",children:[(0,h.jsxs)(l.default,{children:[(0,h.jsx)("title",{children:"\u535a\u5ba2\u8be6\u60c5"}),(0,h.jsx)("meta",{name:"description",content:"\u535a\u5ba2\u8be6\u7ec6\u5185\u5bb9"}),(0,h.jsx)("link",{rel:"icon",href:"/my_favicon.ico"})]}),(0,h.jsx)("h1",{className:"xl-blog-detail-title",children:n.title}),(0,h.jsxs)("div",{className:"xl-blog-detail-main",children:[j,(0,h.jsx)("div",{ref:t,className:"xl-blog-detail-content",dangerouslySetInnerHTML:{__html:n.htmlText}})]})]})}g.layout=u.uy;var b=!0,x=g},8031:function(e,n,t){"use strict";t.d(n,{O:function(){return a}});var r=t(5861),l=t(7757),i=t.n(l),u=t(8222);function a(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.v_)("/runScript",{script:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6397:function(e,n,t){"use strict";t.d(n,{NH:function(){return u},yM:function(){return a}});var r=t(7549),l=t(2252),i=new Map;function u(e,n,t){if(!e||!n||!(0,r.mf)(t))return null;var l=i.get(e);if(l){var u=l.get(n);if(u){if(u.callbacks.includes(t))return o(),{dom:e,event:n,callbackIndex:u.callbacks.indexOf(t)};var a=u.callbacks.push(t);return o(),{dom:e,event:n,callbackIndex:a-1}}return l.set(n,{callbacks:[t]}),o(),{dom:e,event:n,callbackIndex:0}}var c=new Map;return c.set(n,{callbacks:[t]}),i.set(e,c),o(),{dom:e,event:n,callbackIndex:0}}function a(e){return null!==e&&void 0!==e&&e.dom?c(e.dom,e.event,e.callbackIndex):null}function c(e,n,t){if(!e)return null;var u=i.get(e);if(!u)return null;if(!n)return u.forEach((function(n,t){(0,l.S1)(e,t,n.wrapperFun),delete n.wrapperFun,u.delete(t)})),i.delete(e),{dom:e};var a=u.get(n);if(!a)return null;if(null===t||void 0===t)return(0,l.S1)(e,n,a.wrapperFun),delete a.wrapperFun,u.delete(n),u.size<1&&c(e),{dom:e,event:n};var o=(0,r.hj)(t)?t:a.callbacks.findIndex((function(e){return e===t}));if(o<0)return null;var s=a.callbacks.splice(o,1);return a.callbacks.length<1?c(e,n):s.length>0?{dom:e,event:n,callbackIndex:o}:null}function o(){i.forEach((function(e,n){e.forEach((function(e,t){e.wrapperFun||(e.wrapperFun=function(r){var l=this;e.callbacks.forEach((function(e){e.call(l,r,n,t)}))},(0,l.on)(n,t,e.wrapperFun))}))}))}n.ZP={addListener:u,removeListener:c,removeListenerRS:a,start:o,removeAll:function(){i.forEach((function(e,n){e.forEach((function(t,r){(0,l.S1)(n,r,t.wrapperFun),delete t.wrapperFun,e.delete(r)})),i.delete(n)}))}}},4343:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/detail/[blogId]",function(){return t(3098)}])},2382:function(){},7332:function(){},1451:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(907);var l=t(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,l.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[662,786,116,774,888,179],(function(){return n=4343,e(e.s=n);var n}));var n=e.O();_N_E=n}]);