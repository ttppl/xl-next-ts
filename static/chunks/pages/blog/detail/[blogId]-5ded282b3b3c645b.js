(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[443],{2705:function(n,e,t){var r=t(5639).Symbol;n.exports=r},4239:function(n,e,t){var r=t(2705),i=t(9607),o=t(2333),u=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":u&&u in Object(n)?i(n):o(n)}},7561:function(n,e,t){var r=t(7990),i=/^\s+/;n.exports=function(n){return n?n.slice(0,r(n)+1).replace(i,""):n}},1957:function(n,e,t){var r="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;n.exports=r},9607:function(n,e,t){var r=t(2705),i=Object.prototype,o=i.hasOwnProperty,u=i.toString,c=r?r.toStringTag:void 0;n.exports=function(n){var e=o.call(n,c),t=n[c];try{n[c]=void 0;var r=!0}catch(l){}var i=u.call(n);return r&&(e?n[c]=t:delete n[c]),i}},2333:function(n){var e=Object.prototype.toString;n.exports=function(n){return e.call(n)}},5639:function(n,e,t){var r=t(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();n.exports=o},7990:function(n){var e=/\s/;n.exports=function(n){for(var t=n.length;t--&&e.test(n.charAt(t)););return t}},3279:function(n,e,t){var r=t(3218),i=t(7771),o=t(4841),u=Math.max,c=Math.min;n.exports=function(n,e,t){var l,a,f,s,d,v,p=0,m=!1,h=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=l,r=a;return l=a=void 0,p=e,s=n.apply(r,t)}function x(n){return p=n,d=setTimeout(w,e),m?b(n):s}function y(n){var t=n-v;return void 0===v||t>=e||t<0||h&&n-p>=f}function w(){var n=i();if(y(n))return j(n);d=setTimeout(w,function(n){var t=e-(n-v);return h?c(t,f-(n-p)):t}(n))}function j(n){return d=void 0,g&&l?b(n):(l=a=void 0,s)}function N(){var n=i(),t=y(n);if(l=arguments,a=this,v=n,t){if(void 0===d)return x(v);if(h)return clearTimeout(d),d=setTimeout(w,e),b(v)}return void 0===d&&(d=setTimeout(w,e)),s}return e=o(e)||0,r(t)&&(m=!!t.leading,f=(h="maxWait"in t)?u(o(t.maxWait)||0,e):f,g="trailing"in t?!!t.trailing:g),N.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=v=a=d=void 0},N.flush=function(){return void 0===d?s:j(i())},N}},3218:function(n){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},7005:function(n){n.exports=function(n){return null!=n&&"object"==typeof n}},3448:function(n,e,t){var r=t(4239),i=t(7005);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},7771:function(n,e,t){var r=t(5639);n.exports=function(){return r.Date.now()}},4841:function(n,e,t){var r=t(7561),i=t(3218),o=t(3448),u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,a=parseInt;n.exports=function(n){if("number"==typeof n)return n;if(o(n))return NaN;if(i(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=i(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=r(n);var t=c.test(n);return t||l.test(n)?a(n.slice(2),t?2:8):u.test(n)?NaN:+n}},3858:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(7264),i=t(7294);function o(n,e){var t=(0,i.useContext)(r.VY),o=t.logoClickCallback.current;return(0,i.useEffect)((function(){return o.push(n),function(){o.splice(o.findIndex((function(e){return e===n})),1)}}),e),{logoRef:t.logoRef}}},3115:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return b},default:function(){return x}});var r=t(1451),i=t(9008),o=t(7294),u=t(7264),c=(t(7332),t(2382),t(8031)),l=t(2252),a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,o.useEffect)((function(){(0,l.J3)("https://ttppl.xyz/file/lib/blog.css"),(0,l.Oo)("https://ttppl.xyz/file/lib/xlUtils.js").then((function(n){(0,l.Oo)("https://ttppl.xyz/file/lib/blog.js").then((function(){window.runXlScript=function(n){try{var e,t,r,i=null===(e=n.target)||void 0===e?void 0:e.getElementsByTagName("textarea")[0].value,o=null===(t=n.target)||void 0===t||null===(r=t.parentNode)||void 0===r?void 0:r.getElementsByClassName("xl-runnable-output")[0];(0,c.O)(i).then((function(n){if(n.success){var e="";n.data.map((function(n){e+=n+"\n"})),e=e.replace(/\\/g,"\\").replace(/\</g,"&lt").replace(/\>/g,"&gt"),o.innerHTML="<pre><code>".concat(e,"</code></pre>")}else o.innerHTML=JSON.stringify(n.msg)})).catch((function(n){o.innerHTML=n.toString()})),o.style.display="block"}catch(n){console.error(n)}}}))}))}),(0,r.Z)(n))},f=t(1163),s=t(6397),d=t(1578),v=t(3858),p=t(3279),m=t.n(p),h=t(5893);function g(n){var e=n.blog;a();(0,f.useRouter)();var t=(0,o.useRef)(null),u=(0,o.useState)([]),c=u[0],p=u[1],g=(0,o.useRef)([]),b=(0,o.useState)(""),x=b[0],y=b[1],w=(0,o.useRef)(!0),j=(0,o.useState)(0),N=j[0],k=j[1],S=(0,o.useState)(!0),E=S[0],T=S[1],_=(0,o.useRef)(null),O=(0,o.useRef)(100),I=(0,o.useMemo)((function(){return(0,h.jsx)("ul",{className:"xl-blog-detail-category",ref:_,style:{transform:"translateY(".concat(N,"px)"),display:E?"block":"none"},children:function n(e){return e.map((function(e,t){return(0,h.jsxs)("div",{children:[(0,h.jsxs)("li",{className:(0,l.ll)(["xl-blog-detail-category-item",{active:e.id===x}]),onClick:function(){return M(e.id)},children:[e.text,(0,h.jsx)("div",{className:"item-bar"})]},"category-item-".concat(e.id)),e.children&&(0,h.jsx)("ul",{className:"xl-blog-detail-sub-category",children:n(e.children)},"category-sub-item-".concat(e.id))]},"category-item-container-".concat(e.id))}))}(c)})}),[c,x,N,E]),M=function(n){var e=document.getElementById(n);e&&((0,l.X5)(document.documentElement,e,-1*O.current),y(n),w.current=!1)};(0,o.useEffect)((function(){var n,e=function(n,e){var t=[];return Array.from((null===n||void 0===n?void 0:n.children)||[]).forEach((function(n,e){var r,i;["h1","h2","h3","h4","h5","h6"].includes(null===(r=n.tagName)||void 0===r?void 0:r.toLowerCase())&&(n.id||(n.id="xl-blog-category-title-".concat(e)),t.push({id:n.id,level:parseFloat(n.tagName.slice(1)),text:(null===(i=n.innerHTML)||void 0===i?void 0:i.replace(/<[^>]*>/g,""))||""}))})),g.current=t,function n(e){var t=[];return e.some((function(i,o){var u=t[t.length-1];if(t.length>0&&u.level<i.level){var c=e.slice(o),l=c.findIndex((function(n){return n.level<=u.level}))+o;if(l<o&&(l=c.length+o),l-o>=1)return u.children=n(e.slice(o,l)),t.push.apply(t,(0,r.Z)(n(e.slice(l)))),!0;u.children=[i]}else t.push(i)})),t}(t)}(t.current);p(e),y(null===(n=e[0])||void 0===n?void 0:n.id);var i=window.innerWidth<900;i&&T(!1);var o=(0,s.NH)(document,"scroll",m()((function(n){var e=(0,l.cx)();k(Math.max(e-80,0)),g.current.some((function(n,e){var t,r,i=(null===(t=document.getElementById(n.id))||void 0===t||null===(r=t.getBoundingClientRect())||void 0===r?void 0:r.top)||0;if(i>=O.current){if(!w.current)return w.current=!0,!0;var o;if(i<=window.innerHeight/2)y(n.id);else y((null===(o=g.current[e-1])||void 0===o?void 0:o.id)||n.id);return!0}}))}),300)),u=d.ZP.addSource(_.current,(function(n,e){var t;!i||!n.target||null!==(t=F.current)&&void 0!==t&&t.contains(n.target)||T(!1)}));return function(){(0,s.yM)(o),u&&d.ZP.deleteSource(u)}}),[]);var F=(0,v.Z)((function(){T(!E)}),[E]).logoRef;return(0,h.jsxs)("div",{className:"xl-blog-detail",children:[(0,h.jsxs)(i.default,{children:[(0,h.jsx)("title",{children:"\u535a\u5ba2\u8be6\u60c5"}),(0,h.jsx)("meta",{name:"description",content:"\u535a\u5ba2\u8be6\u7ec6\u5185\u5bb9"}),(0,h.jsx)("link",{rel:"icon",href:"/my_favicon.ico"})]}),(0,h.jsx)("h1",{className:"xl-blog-detail-title",children:e.title}),(0,h.jsxs)("div",{className:"xl-blog-detail-main",children:[I,(0,h.jsx)("div",{ref:t,className:"xl-blog-detail-content",dangerouslySetInnerHTML:{__html:e.htmlText}})]})]})}g.layout=u.uy;var b=!0,x=g},8031:function(n,e,t){"use strict";t.d(e,{O:function(){return c}});var r=t(5861),i=t(7757),o=t.n(i),u=t(480);function c(n){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,u.v_)("/runScript",{script:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},6397:function(n,e,t){"use strict";t.d(e,{NH:function(){return u},yM:function(){return c}});var r=t(7549),i=t(2252),o=new Map;function u(n,e,t){if(!n||!e||!(0,r.mf)(t))return null;var i=o.get(n);if(i){var u=i.get(e);if(u){if(u.callbacks.includes(t))return a(),{dom:n,event:e,callbackIndex:u.callbacks.indexOf(t)};var c=u.callbacks.push(t);return a(),{dom:n,event:e,callbackIndex:c-1}}return i.set(e,{callbacks:[t]}),a(),{dom:n,event:e,callbackIndex:0}}var l=new Map;return l.set(e,{callbacks:[t]}),o.set(n,l),a(),{dom:n,event:e,callbackIndex:0}}function c(n){return null!==n&&void 0!==n&&n.dom?l(n.dom,n.event,n.callbackIndex):null}function l(n,e,t){if(!n)return null;var u=o.get(n);if(!u)return null;if(!e)return u.forEach((function(e,t){(0,i.S1)(n,t,e.wrapperFun),delete e.wrapperFun,u.delete(t)})),o.delete(n),{dom:n};var c=u.get(e);if(!c)return null;if(null===t||void 0===t)return(0,i.S1)(n,e,c.wrapperFun),delete c.wrapperFun,u.delete(e),u.size<1&&l(n),{dom:n,event:e};var a=(0,r.hj)(t)?t:c.callbacks.findIndex((function(n){return n===t}));if(a<0)return null;var f=c.callbacks.splice(a,1);return c.callbacks.length<1?l(n,e):f.length>0?{dom:n,event:e,callbackIndex:a}:null}function a(){o.forEach((function(n,e){n.forEach((function(n,t){n.wrapperFun||(n.wrapperFun=function(r){var i=this;n.callbacks.forEach((function(n){n.call(i,r,e,t)}))},(0,i.on)(e,t,n.wrapperFun))}))}))}e.ZP={addListener:u,removeListener:l,removeListenerRS:c,start:a,removeAll:function(){o.forEach((function(n,e){n.forEach((function(t,r){(0,i.S1)(e,r,t.wrapperFun),delete t.wrapperFun,n.delete(r)})),o.delete(e)}))}}},7455:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/detail/[blogId]",function(){return t(3115)}])},2382:function(){},7332:function(){},1451:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(907);var i=t(181);function o(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(n){n.O(0,[662,878,116,774,888,179],(function(){return e=7455,n(n.s=e);var e}));var e=n.O();_N_E=e}]);