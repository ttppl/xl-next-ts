(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{6889:function(e,n,t){"use strict";t(2689);var r=t(1664),a=t(7294),c=t(1163),l=t(2252),o=t(7549),i=t(5893),s=function(e){c.default.push("/blog/detail/".concat(e))};n.Z=function(e){var n,t=e.blog,c=e.openBlank,u=e.style,d=e.className,f=(0,a.useMemo)((function(){return(Array.isArray(t.tags)?t.tags:t.tags.split(",")).map((function(e,n){if(e)return(0,i.jsx)(r.default,{passHref:!0,href:"/blog/search/p1?key=".concat((0,l.bl)(e)),children:(0,i.jsx)("a",{className:"xl-blog-tag",children:e},"tag-".concat(n))},"tag-".concat(n))}))}),[t.tags]);return(0,i.jsxs)("article",{className:"xl-blog-card ".concat(d||""),style:u,children:[t.coverImg&&(0,i.jsx)("img",{className:"xl-blog-cover-img",src:(0,o.e9)(t.coverImg)?"".concat("https://ttppl.xyz/file/id/").concat(t.coverImg):t.coverImg}),(0,i.jsxs)("div",{className:"xl-blog-info",children:[(0,i.jsx)("h1",{className:"xl-blog-card-title",children:(0,i.jsx)(r.default,{href:"/blog/detail/".concat(t.blogId),passHref:!0,children:(0,i.jsx)("a",{rel:"noreferrer",onClick:function(){s(t.blogId)},target:c?"_blank":"_self",children:t.title})})}),(0,i.jsx)("p",{className:"xl-blog-card-content",onClick:function(){s(t.blogId)},children:null===(n=t.plainText)||void 0===n?void 0:n.replace(/[\r\n]/g,"")}),(0,i.jsxs)("footer",{className:"xl-blog-card-footer",children:[(0,i.jsx)("span",{className:"xl-blog-card-publish-date",children:new Date(t.publishTime).toLocaleDateString()}),t.category&&(0,i.jsxs)("span",{className:"xl-blog-card-category",children:["\u5206\u7c7b\uff1a",(0,i.jsx)(r.default,{passHref:!0,href:"/blog/search/p1?key=".concat((0,l.bl)(t.category)),children:(0,i.jsx)("a",{children:t.category})})]}),(0,i.jsx)("span",{children:f})]})]})]},"index-blog-".concat(t.blogId))}},6068:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return w},default:function(){return k}});var r=t(1451),a=t(5861),c=t(7757),l=t.n(c),o=t(9008),i=(t(7201),t(7264)),s=t(8222);function u(){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)(l().mark((function e(){var n,t,r,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:"newest",t=a.length>1&&void 0!==a[1]?a[1]:1,r=a.length>2&&void 0!==a[2]?a[2]:10,e.next=5,(0,s.U2)("/blog/getBlogs/type/".concat(n),{page:t,pageSize:r});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=t(7294),p=t(3084),g=t(6889),h=t(6397),m=t(6486),b=t.n(m),v=t(1163),x=t(5893),y=function(e){var n=(0,f.useState)(e.blogs),t=n[0],c=n[1],i=(0,f.useRef)(1),s=(0,f.useState)(!0),d=s[0],m=s[1],y=(0,f.useState)(!1),w=y[0],k=y[1],j=(0,f.useRef)(null);(0,f.useEffect)((function(){var e=b().debounce((0,a.Z)(l().mark((function e(){var a,o,s,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.body.scrollHeight,o=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,s=document.body.clientHeight,!(a-o<s+1)){e.next=14;break}return console.log("loading more blogs"),(0,h.yM)(n),m(!0),i.current++,m(!0),e.next=11,u("newest",i.current);case 11:(d=e.sent).data.length<1?(k(!0),(0,h.yM)(n)):c([].concat((0,r.Z)(t),(0,r.Z)(d.data))),m(!1);case 14:case"end":return e.stop()}}),e)}))),500),n=(0,h.NH)(document,"scroll",e);return function(){(0,h.yM)(n)}}),[t]);(0,v.useRouter)();return(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)(o.default,{children:[(0,x.jsx)("title",{children:"\u541e\u5929\u6ce1\u6ce1\u9f99\u7684\u4e3b\u9875"}),(0,x.jsx)("meta",{name:"description",content:"\u541e\u5929\u6ce1\u6ce1\u9f99\u7684\u4e3b\u9875"}),(0,x.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,x.jsx)("link",{rel:"icon",href:"/my_favicon.ico"})]}),(0,x.jsxs)("main",{className:"main",ref:j,id:"main",children:[t.map((function(e){return(0,x.jsx)(g.Z,{openBlank:!0,blog:e},e.blogId)})),d&&(0,x.jsx)(p.Z,{children:"\u73a9\u547d\u52a0\u8f7d\u4e2d..."}),w&&(0,x.jsx)("p",{children:"\u6728\u6709\u4e86\u5462..."})]})]})};y.layout=i.uy;var w=!0,k=y},6397:function(e,n,t){"use strict";t.d(n,{NH:function(){return l},yM:function(){return o}});var r=t(7549),a=t(2252),c=new Map;function l(e,n,t){if(!e||!n||!(0,r.mf)(t))return null;var a=c.get(e);if(a){var l=a.get(n);if(l){if(l.callbacks.includes(t))return s(),{dom:e,event:n,callbackIndex:l.callbacks.indexOf(t)};var o=l.callbacks.push(t);return s(),{dom:e,event:n,callbackIndex:o-1}}return a.set(n,{callbacks:[t]}),s(),{dom:e,event:n,callbackIndex:0}}var i=new Map;return i.set(n,{callbacks:[t]}),c.set(e,i),s(),{dom:e,event:n,callbackIndex:0}}function o(e){return null!==e&&void 0!==e&&e.dom?i(e.dom,e.event,e.callbackIndex):null}function i(e,n,t){if(!e)return null;var l=c.get(e);if(!l)return null;if(!n)return l.forEach((function(n,t){(0,a.S1)(e,t,n.wrapperFun),delete n.wrapperFun,l.delete(t)})),c.delete(e),{dom:e};var o=l.get(n);if(!o)return null;if(null===t||void 0===t)return(0,a.S1)(e,n,o.wrapperFun),delete o.wrapperFun,l.delete(n),l.size<1&&i(e),{dom:e,event:n};var s=(0,r.hj)(t)?t:o.callbacks.findIndex((function(e){return e===t}));if(s<0)return null;var u=o.callbacks.splice(s,1);return o.callbacks.length<1?i(e,n):u.length>0?{dom:e,event:n,callbackIndex:s}:null}function s(){c.forEach((function(e,n){e.forEach((function(e,t){e.wrapperFun||(e.wrapperFun=function(r){var a=this;e.callbacks.forEach((function(e){e.call(a,r,n,t)}))},(0,a.on)(n,t,e.wrapperFun))}))}))}n.ZP={addListener:l,removeListener:i,removeListenerRS:o,start:s,removeAll:function(){c.forEach((function(e,n){e.forEach((function(t,r){(0,a.S1)(n,r,t.wrapperFun),delete t.wrapperFun,e.delete(r)})),c.delete(n)}))}}},4094:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userIndex/[...userId]",function(){return t(6068)}])},2689:function(){},7201:function(){},1451:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(907);var a=t(181);function c(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},function(e){e.O(0,[662,786,116,774,888,179],(function(){return n=4094,e(e.s=n);var n}));var n=e.O();_N_E=n}]);